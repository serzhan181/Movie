{"version":3,"sources":["assets/icons/loader.svg","components/PageLoader.jsx","api/config.js","api/makeRequest.js","api/rest/movies.api.js","stores/movie.state.js","pages/MovieAbout/components/Detailed/Left.jsx","hooks/useInterception.js","pages/MovieAbout/components/Detailed/Right.jsx","pages/MovieAbout/components/Detailed/index.jsx","components/Modal.jsx","components/Dialog/DialogCommon.jsx","components/Dialog/index.jsx","pages/MovieAbout/components/Trailer.jsx","pages/MovieAbout/components/Introduction.jsx","pages/MovieAbout/components/Simulars/SimularItem.jsx","pages/MovieAbout/components/Simulars/index.jsx","pages/MovieAbout/index.jsx","helpers/scrollToTop.js","pages/Home/components/Categories/CategoriesCommon.jsx","pages/Home/components/Categories/index.jsx","components/Search/SearchCommon.jsx","components/Search/index.jsx","helpers/addQuery.js","components/Pagination.jsx","components/Cards/Card.jsx","components/Cards/CardsCommon.jsx","components/Cards/index.jsx","pages/Home/HomeCommon.jsx","hooks/useQuery.js","pages/Home/index.jsx","pages/Discover/DiscoverCommon.jsx","pages/Discover/index.jsx","pages/Auth/AuthCommon.jsx","api/rest/auth.api.js","stores/auth.state.js","pages/Auth/index.jsx","api/rest/posts.api.js","stores/posts.state.js","components/Blogs/BlogMeta.jsx","components/Blogs/Body.jsx","components/Blogs/Blog.jsx","components/Blogs/index.jsx","pages/Feed/index.jsx","pages/Error/404.jpg","pages/Error/index.jsx","api/rest/user.api.js","stores/user.state.js","pages/User/index.jsx","hoc/Private.jsx","pages/Post/components/Comments.jsx","pages/Post/components/InputComment.jsx","pages/Post/index.jsx","pages/CreatePost/index.jsx","assets/icons/logo.svg","components/Sidebar.jsx","app.jsx","context/auth.context.jsx","index.js"],"names":["PageLoader","className","src","loader","alt","imgtypes","instanceTMDB","axios","create","baseURL","headers","Authorization","requestTMDB","url","method","params","request","body","cfg","withCredentials","data","moviesAPI","page","id","genreId","query","movie","curMovie","isLoading","setLoading","bool","movieList","getPopularMovies","a","res","runInAction","console","warn","getSingleMovie","single_movie","yt_videos","simulars","ytId","results","getMovie","getMovieByCategory","makeAutoObservable","this","dayjs","extend","relativeTime","Left","vote_average","release_date","budget","revenue","options","threshold","once","useState","ref","setRef","visible","setVisible","useEffect","observer","IntersectionObserver","entry","isIntersecting","observe","unobserve","useInterception","rootMargin","fromNow","style","width","Right","tagline","overview","Detailed","diffDate","modalRoot","document","getElementById","Modal","children","el","createElement","appendChild","overflow","removeChild","createPortal","DialogCommon","handleClose","centered","onClick","data-overlay","Dialog","open","history","useHistory","e","target","dataset","overlay","goBack","Trailer","useRouteMatch","path","match","Boolean","controls","height","Introduction","pathname","useLocation","media","srcSet","backdrop_path","poster_path","title","genres","map","g","name","join","to","key","homepage","href","SimularItem","imgSrc","releaseDate","Simulars","length","s","MovieAbout","useParams","window","scroll","items","emoji","label","CategoriesCommon","handleGenreSet","item","disabled","Categories","alert","SearchCommon","onSubmit","register","placeholder","type","Search","useForm","handleSubmit","push","addQuery","value","searchParams","URLSearchParams","location","search","includes","set","append","toString","Pagination","totalPages","Card","image","subtitle","CardsCommon","Cards","HomeCommon","total_pages","useQuery","Home","get","DiscoverCommon","Discover","searchQuery","AuthCommon","handleDemo","schema","yup","shape","username","required","password","max","min","email","resolver","yupResolver","errors","setError","bind","autoComplete","Object","keys","role","message","minLength","authAPI","auth","user","authenticated","response","login","success","me","logout","error","Auth","forEach","component","exact","postsAPI","identifier","slug","postId","commentId","formData","posts","singlePost","setPosts","fetchPost","post","postComments","comments","fetchPosts","createPost","props","file","status","uploadPostImg","log","vote","voteScore","userVote","p","commentPost","deleteComment","filter","c","BlogMeta","author_name","author_avatar","commentCount","createdAt","Body","description","Blog","postImg","Blogs","showBody","imageUrl","uuid","Feed","Error","errorImg","userAPI","setIsloading","userInfo","fetchUser","undefined","uploadProfileImage","User","isOwner","setIsOwner","fileInputRef","useRef","uploadImage","files","FormData","current","click","onChange","Private","strict","Comments","currentUser","InputComment","handleCommentPost","setValue","gridTemplateColumns","Post","CreatePost","setFile","filename","setFilename","setTitle","setBody","handlePreviewImg","preventDefault","trim","replace","cols","rows","sidebarItems","icon","Sidebar","sidebarOpen","setSidebarOpen","logo","n","then","reload","App","AuthContext","createContext","AuthProvider","fetch","Provider","ReactDOM","render"],"mappings":"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","file":"static/js/main.40bec01b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loader.ee917082.svg\";","import loader from '../assets/icons/loader.svg'\r\n\r\nexport const PageLoader = () => (\r\n  <div className='w-full h-80-screen flex-center z-50 pointer-events-none'>\r\n    <img src={loader} alt='loading' />\r\n  </div>\r\n)\r\n","export const config = {\r\n  THEMOVIEDB_TOKEN:\r\n    'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3ODE5ZGQxNmFkMTI5OTE0Yjg5YzE0NzgxYjg3YzhlNSIsInN1YiI6IjYwMmY4NjhkMzJjYzJiMDAzZjg0YTQxNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.nQipuoOB_WLYVhqgT1zFsag02JqoYdVFExI1HlbwfAs',\r\n}\r\n\r\nexport const imgtypes = {\r\n  xl: 'https://image.tmdb.org/t/p/original/',\r\n  md: 'https://image.tmdb.org/t/p/w300/',\r\n  sm: 'https://image.tmdb.org/t/p/w200/',\r\n}\r\n","import { config } from './config'\r\nimport axios from 'axios'\r\n\r\nconst instanceTMDB = axios.create({\r\n  baseURL: 'https://api.themoviedb.org/3',\r\n  headers: {\r\n    Authorization: `Bearer ${config.THEMOVIEDB_TOKEN}`,\r\n\r\n    'Content-Type': 'application/json;charset=utf-8',\r\n  },\r\n})\r\n\r\nexport const requestTMDB = (url, method = 'GET', params = {}, headers = {}) => {\r\n  return instanceTMDB({\r\n    url,\r\n    method,\r\n    params,\r\n    headers,\r\n  })\r\n}\r\n\r\nexport const request = ({\r\n  url,\r\n  method = 'GET',\r\n  params = {},\r\n  body,\r\n  headers = {},\r\n}) => {\r\n  const cfg = {\r\n    url,\r\n    method,\r\n    params,\r\n    headers,\r\n    withCredentials: true,\r\n  }\r\n\r\n  if (method === 'POST') cfg.data = body\r\n\r\n  return axios(cfg)\r\n}\r\n","import { requestTMDB } from '../makeRequest'\r\n\r\nconst getPopularMovies = (page) => {\r\n  return requestTMDB(`/movie/popular?language=en-US`, 'GET', {\r\n    page,\r\n  })\r\n}\r\n\r\nconst getSingleMovie = (id) => {\r\n  return requestTMDB(`/movie/${id}?language=en-US`, 'GET')\r\n}\r\n\r\nconst getSimularMovies = (id) => {\r\n  return requestTMDB(`/movie/${id}/similar`, 'GET')\r\n}\r\n\r\nconst getYoutubeTrailer = (id) => {\r\n  return requestTMDB(`/movie/${id}/videos`)\r\n}\r\n\r\nconst getMovie = (query, page) => {\r\n  return requestTMDB(`/search/movie?query=${query}&include_adult=true`, 'GET', {\r\n    page,\r\n  })\r\n}\r\n\r\n// DEPRECATED\r\nconst getMovieByCategory = (genreId, page) => {\r\n  return requestTMDB(\r\n    `/movie?sort_by=popularity.desc&include_adult=true&include_video=false&with_genres=${genreId}`,\r\n    'GET',\r\n    { page }\r\n  )\r\n}\r\n\r\nexport const moviesAPI = {\r\n  getPopularMovies,\r\n  getSingleMovie,\r\n  getSimularMovies,\r\n  getYoutubeTrailer,\r\n  getMovieByCategory,\r\n  getMovie,\r\n}\r\n","import { makeAutoObservable, runInAction } from 'mobx'\r\nimport { moviesAPI } from '../api/rest/movies.api'\r\n\r\nclass Movie {\r\n  curMovie = null\r\n\r\n  isLoading = true\r\n  setLoading = (bool) => {\r\n    this.isLoading = bool\r\n  }\r\n\r\n  movieList = null\r\n\r\n  constructor() {\r\n    makeAutoObservable(this)\r\n  }\r\n\r\n  // async\r\n  getPopularMovies = async (page = 1) => {\r\n    this.movieList = null\r\n    try {\r\n      const res = await moviesAPI.getPopularMovies(page)\r\n      runInAction(() => {\r\n        this.movieList = res.data\r\n      })\r\n    } catch (err) {\r\n      console.warn(err)\r\n    }\r\n  }\r\n\r\n  getSingleMovie = async (id) => {\r\n    this.curMovie = null\r\n    try {\r\n      const single_movie = await moviesAPI.getSingleMovie(id)\r\n      const yt_videos = await moviesAPI.getYoutubeTrailer(id)\r\n      const simulars = await moviesAPI.getSimularMovies(id)\r\n      runInAction(() => {\r\n        this.curMovie = single_movie.data\r\n        this.curMovie.ytId = yt_videos.data.results[0]\r\n        this.curMovie.simulars = simulars.data.results\r\n      })\r\n    } catch (err) {\r\n      console.warn(err)\r\n    }\r\n  }\r\n\r\n  getMovie = async (query, page = 1) => {\r\n    this.movieList = null\r\n    try {\r\n      const res = await moviesAPI.getMovie(query, page)\r\n\r\n      runInAction(() => {\r\n        this.movieList = res.data\r\n      })\r\n    } catch (err) {\r\n      console.warn(err)\r\n    }\r\n  }\r\n\r\n  // DEPRECATED\r\n  getMovieByCategory = async (genreId, page) => {\r\n    this.movieList = null\r\n    try {\r\n      const res = await moviesAPI.getMovieByCategory(genreId, page)\r\n\r\n      runInAction(() => {\r\n        this.movieList = res.data\r\n      })\r\n    } catch (err) {\r\n      console.warn(err)\r\n    }\r\n  }\r\n}\r\n\r\nexport const movie = new Movie()\r\n","import { useInterception } from '../../../../hooks/useInterception'\r\nimport dayjs from 'dayjs'\r\nimport relativeTime from 'dayjs/plugin/relativeTime'\r\n\r\ndayjs.extend(relativeTime)\r\n\r\nexport const Left = ({ vote_average, release_date, budget, revenue }) => {\r\n  const [setRef, visible] = useInterception({ rootMargin: '0px' })\r\n\r\n  return (\r\n    <div className='lg:w-1/2 sm:w-full'>\r\n      <div className='mb-6'>\r\n        <span>\r\n          Released: {dayjs(release_date).fromNow()}\r\n          {'  '}\r\n        </span>\r\n      </div>\r\n\r\n      <span>Vote average</span>\r\n      <div className='w-60 lg:w-96 h-4 bg-gray-800 rounded-full mt-3'>\r\n        <div\r\n          ref={setRef}\r\n          style={{ width: `${visible ? vote_average * 10 : 0}%` }}\r\n          className='h-full bg-gradient-to-r transition-all duration-700 from-red-700 to-green-700 text-center text-xs text-white rounded-full'\r\n        >\r\n          {vote_average}\r\n        </div>\r\n      </div>\r\n\r\n      <div className='mt-6'>\r\n        <div className='mb-2'>\r\n          Budget:{' '}\r\n          <span className='bg-green-900 p-0.5 rounded-xl font-light  text-gray-100'>\r\n            {budget}$\r\n          </span>\r\n        </div>\r\n        <div>\r\n          {' '}\r\n          Revenue:{' '}\r\n          <span className='p-0.5 rounded-xl font-light  text-gray-100 bg-green-900'>\r\n            {revenue}${' '}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\n/*\r\n  valid options = {\r\n    rootMargin: '160px',\r\n    threshold: 0.9g\r\n  }\r\n*/\r\n\r\nexport const useInterception = (options = { threshold: 0 }, once = true) => {\r\n  const [ref, setRef] = useState(null)\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(([entry]) => {\r\n      if (once) {\r\n        if (!visible) {\r\n          setVisible(entry.isIntersecting)\r\n        }\r\n      } else {\r\n        setVisible(entry.isIntersecting)\r\n      }\r\n    }, options)\r\n\r\n    if (ref) {\r\n      observer.observe(ref)\r\n    }\r\n\r\n    return () => {\r\n      if (ref) {\r\n        observer.unobserve(ref)\r\n      }\r\n    }\r\n  }, [ref, options, once, visible])\r\n\r\n  return [setRef, visible]\r\n}\r\n","export const Right = ({ tagline, overview }) => {\r\n  return (\r\n    <div className='lg:w-1/2 sm:w-full'>\r\n      {tagline && (\r\n        <blockquote className='font-light mt-7'>\r\n          &ldquo;{tagline}&rdquo;\r\n        </blockquote>\r\n      )}\r\n\r\n      <h2 className='text-xl font-medium mt-6'>Overview</h2>\r\n      <span className='block text-left font-light text-sm'>{overview}</span>\r\n    </div>\r\n  )\r\n}\r\n","import { Left } from './Left'\r\nimport { Right } from './Right'\r\n\r\nexport const Detailed = ({ curMovie, diffDate }) => {\r\n  return (\r\n    <div className='w-full sm:block lg:flex lg:justify-between lg:items-center flex-wrap'>\r\n      <Left\r\n        {...{\r\n          budget: curMovie?.budget,\r\n          release_date: curMovie?.release_date,\r\n          revenue: curMovie?.revenue,\r\n          vote_average: curMovie?.vote_average,\r\n        }}\r\n      />\r\n      <Right\r\n        {...{ overview: curMovie?.overview, tagline: curMovie?.tagline }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect } from 'react'\r\nimport { createPortal } from 'react-dom'\r\n\r\nconst modalRoot = document.getElementById('root')\r\n\r\nexport const Modal = ({ children }) => {\r\n  const el = document.createElement('div')\r\n  useEffect(() => {\r\n    modalRoot.appendChild(el)\r\n    document.body.style.overflow = 'hidden'\r\n    return () => {\r\n      modalRoot.removeChild(el)\r\n      document.body.style.overflow = 'auto'\r\n    }\r\n  }, [el])\r\n\r\n  return createPortal(children, el)\r\n}\r\n","import { Modal } from '../Modal'\r\n\r\nexport const DialogCommon = ({\r\n  handleClose,\r\n  centered,\r\n  className,\r\n  children,\r\n}) => {\r\n  return (\r\n    <Modal>\r\n      <div\r\n        onClick={handleClose}\r\n        className={`fixed flex justify-center inset-0 bg-black bg-opacity-70 ${\r\n          centered && 'items-center'\r\n        }`}\r\n        data-overlay={true}\r\n      >\r\n        <div className={className}>{children}</div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n","import { DialogCommon } from './DialogCommon'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nexport const Dialog = ({ open, children, className, centered = false }) => {\r\n  const history = useHistory()\r\n\r\n  const handleClose = (e) => {\r\n    if (e.target.dataset.overlay) {\r\n      history.goBack()\r\n    }\r\n  }\r\n\r\n  return open ? (\r\n    <DialogCommon {...{ centered, children, className, handleClose }} />\r\n  ) : null\r\n}\r\n","import ReactPlayer from 'react-player/lazy'\r\nimport { Route, useRouteMatch } from 'react-router-dom'\r\nimport { Dialog } from '../../../components/Dialog'\r\n\r\nexport const Trailer = ({ ytId }) => {\r\n  const { url } = useRouteMatch()\r\n  return (\r\n    <Route\r\n      path={`${url}/trailer`}\r\n      children={({ match }) => {\r\n        return (\r\n          <Dialog\r\n            open={Boolean(match)}\r\n            className='sm:w-full md:w-2/3 md:mt-8 overflow-auto'\r\n            centered={true}\r\n          >\r\n            <div className='bg-primary md:rounded-xl'>\r\n              <div className='rounded-xl overflow-hidden h-104'>\r\n                <ReactPlayer\r\n                  url={`https://www.youtube.com/watch?v=${ytId}`}\r\n                  controls\r\n                  width='100%'\r\n                  height='100%'\r\n                />\r\n              </div>\r\n            </div>\r\n          </Dialog>\r\n        )\r\n      }}\r\n    />\r\n  )\r\n}\r\n","import { Link, useLocation } from 'react-router-dom'\r\nimport { imgtypes } from '../../../api/config'\r\nimport { Trailer } from './Trailer'\r\n\r\nexport const Introduction = ({ curMovie }) => {\r\n  const { pathname } = useLocation()\r\n  return (\r\n    <div className='w-full h-screen relative'>\r\n      <div className='absolute inset-0 bg-gradient-to-b from-gray-900 to-black opacity-80'></div>\r\n\r\n      <picture>\r\n        <source\r\n          media='(min-width: 650px)'\r\n          srcSet={`${imgtypes.xl}${curMovie?.backdrop_path}`}\r\n        />\r\n        <source\r\n          media='(min-width: 365px)'\r\n          srcSet={`${imgtypes.md}${curMovie?.poster_path}`}\r\n        />\r\n        <img\r\n          className='w-full h-full object-cover'\r\n          src={`${imgtypes.xl}${curMovie?.backdrop_path}`}\r\n          alt={curMovie?.title}\r\n        />\r\n      </picture>\r\n\r\n      <div className='absolute left-1/2 w-full transform  -translate-x-1/2 top-14 pl-8 select-none  overflow-hidden opacity-70'>\r\n        <h1 className='text-2xl md:text-7xl opacity-70 font-bold'>\r\n          {curMovie?.title}\r\n        </h1>\r\n        <h4>{curMovie?.genres?.map((g) => g.name).join(', ')}</h4>\r\n      </div>\r\n\r\n      <div className='absolute left-1/2 transform -translate-x-1/2 bottom-14 w-min flex flex-wrap gap-2'>\r\n        <Link\r\n          className='btn p-3 focus:bg-secondary hover:bg-primary w-full'\r\n          to={`${pathname}/trailer`}\r\n        >\r\n          TRAILER\r\n        </Link>\r\n        <Trailer ytId={curMovie?.ytId?.key} />\r\n\r\n        {curMovie.homepage && (\r\n          <a\r\n            className='btn p-3 focus:bg-secondary hover:bg-primary w-full'\r\n            href={curMovie?.homepage}\r\n            target='__blank'\r\n          >\r\n            HOMEPAGE\r\n          </a>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { Link } from 'react-router-dom'\r\nimport { imgtypes } from '../../../../api/config'\r\n\r\nexport const SimularItem = ({ imgSrc, title, releaseDate, id }) => {\r\n  return (\r\n    <li className='mini-card'>\r\n      <Link\r\n        to={`/movie/${id}`}\r\n        className='mini-card-onhover transition opacity-0 hover:opacity-70'\r\n      >\r\n        <div>\r\n          <h4 className='focus-within:text-gray-300 font-medium text-lg text-center'>\r\n            {title}\r\n          </h4>\r\n          <h5 className='text-center'>({releaseDate})</h5>\r\n        </div>\r\n      </Link>\r\n      <img\r\n        className='w-full object-cover'\r\n        src={\r\n          imgSrc\r\n            ? `${imgtypes.md}${imgSrc}`\r\n            : 'https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse3.mm.bing.net%2Fth%3Fid%3DOIP.Qw7sWxQNIOY3menRXNLNeQAAAA%26pid%3DApi&f=1'\r\n        }\r\n        alt={title}\r\n      />\r\n    </li>\r\n  )\r\n}\r\n","import { SimularItem } from './SimularItem'\r\n\r\nexport const Simulars = ({ simulars }) => {\r\n  return (\r\n    <div className='mt-16'>\r\n      <h2 className='text-xl font-medium'>Relevant Movies:</h2>\r\n\r\n      <section className='w-full flex overflow-auto'>\r\n        <ul className='flex gap-2 m-3'>\r\n          {simulars?.length ? (\r\n            simulars.map((s) => (\r\n              <SimularItem\r\n                key={s.id}\r\n                {...{\r\n                  imgSrc: s.backdrop_path,\r\n                  releaseDate: s.release_date,\r\n                  title: s.title,\r\n                  id: s.id,\r\n                }}\r\n              />\r\n            ))\r\n          ) : (\r\n            <h1 className='text-red-600 font-bold text-xl'>\r\n              No simulars to this movie :(\r\n            </h1>\r\n          )}\r\n        </ul>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n","import { useEffect } from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { PageLoader } from '../../components/PageLoader'\r\nimport { useParams } from 'react-router-dom'\r\nimport { scrollToTop } from '../../helpers/scrollToTop'\r\nimport { movie } from '../../stores/movie.state'\r\nimport { Detailed, Introduction, Simulars } from './components'\r\n\r\nexport const MovieAbout = observer(() => {\r\n  const { id } = useParams()\r\n  useEffect(() => {\r\n    scrollToTop()\r\n    ;(async function () {\r\n      await movie.getSingleMovie(id)\r\n    })()\r\n  }, [id])\r\n\r\n  return movie.curMovie ? (\r\n    <>\r\n      <Introduction {...{ curMovie: movie.curMovie }} />\r\n      <div className='py-3 px-6'>\r\n        <Detailed {...{ curMovie: movie.curMovie }} />\r\n        <Simulars simulars={movie.curMovie?.simulars} />\r\n      </div>\r\n    </>\r\n  ) : (\r\n    <PageLoader />\r\n  )\r\n})\r\n","export const scrollToTop = () => {\r\n  return window.scroll(0, 0)\r\n}\r\n","const items = [\r\n  { emoji: 'ðŸŽžï¸', label: 'All', id: '0' },\r\n  { emoji: 'ðŸ˜‚', label: 'Comedy', id: '35' },\r\n  { emoji: 'ðŸ˜±', label: 'Thriller', id: '53' },\r\n  { emoji: 'ðŸ‘»', label: 'Horror', id: '27' },\r\n  { emoji: 'ðŸ¦„', label: 'Fantasy', id: '14' },\r\n  { emoji: 'ðŸ’”', label: 'Drama', id: '18' },\r\n  { emoji: 'ðŸ¤´', label: 'History', id: '36' },\r\n  { emoji: 'ðŸ’°', label: 'Crime', id: '80' },\r\n  { emoji: 'ðŸ¦Š', label: 'Cartoon', id: '16' },\r\n]\r\n\r\nexport const CategoriesCommon = ({ handleGenreSet, isLoading }) => {\r\n  return (\r\n    <div className='mt-6'>\r\n      <ul className='flex gap-3 flex-wrap'>\r\n        {items.map((item) => (\r\n          <li key={item.id} onClick={() => handleGenreSet(item.id)}>\r\n            <button\r\n              className={`btn flex-center flex-col py-5 justify-between h-24 w-20 ${\r\n                '0' === item.id\r\n                  ? 'bg-orange shadow-orange-active'\r\n                  : 'bg-primary-light'\r\n              } ${isLoading && 'disabled:opacity-50'}`}\r\n              disabled={isLoading}\r\n            >\r\n              <div className='text-2xl'>{item.emoji}</div>\r\n              <div className='text-xs font-light'>{item.label}</div>\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n","import { CategoriesCommon } from './CategoriesCommon'\r\n\r\nexport const Categories = ({ isLoading }) => {\r\n  // SHOWS IT IS DEPRECATED FOR NOW.\r\n  const handleGenreSet = (genreId) => {\r\n    alert(\r\n      'Unfortunatelly, the movie db changed its API and this feature is no longer available.'\r\n    )\r\n  }\r\n\r\n  return <CategoriesCommon {...{ handleGenreSet, isLoading }} />\r\n}\r\n","export const SearchCommon = ({ onSubmit, register }) => {\r\n  return (\r\n    <form\r\n      className='mt-3 md:mt-0 p-2 bg-primary-light rounded-full w-96 flex justify-around'\r\n      onSubmit={onSubmit}\r\n    >\r\n      <input\r\n        placeholder='Search for movies...'\r\n        className='bg-secondary outline-none rounded-full text-sm px-2 w-10/12'\r\n        type='text'\r\n        name='query'\r\n        ref={register}\r\n      />\r\n      <button className='btn bg-secondary w-10' type='submit'>\r\n        <i className='icon ion-ios-search'></i>\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n","import { useForm } from 'react-hook-form'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { SearchCommon } from './SearchCommon'\r\n\r\nexport const Search = () => {\r\n  const { register, handleSubmit } = useForm()\r\n  const history = useHistory()\r\n\r\n  const onSubmit = handleSubmit(({ query }) => {\r\n    if (query) {\r\n      history.push(`/discover?query=${query}`)\r\n    }\r\n  })\r\n\r\n  return <SearchCommon {...{ onSubmit, register }} />\r\n}\r\n","export const addQuery = (key, value) => {\r\n  let searchParams = new URLSearchParams(window.location.search)\r\n\r\n  // q=awef\r\n  if (window.location.search.includes(key)) {\r\n    searchParams.set(key, value)\r\n  } else {\r\n    searchParams.append(key, value)\r\n  }\r\n  return searchParams.toString()\r\n}\r\n","import { addQuery } from '../helpers/addQuery'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nexport const Pagination = ({ page, totalPages }) => {\r\n  const history = useHistory()\r\n\r\n  return (\r\n    <div className='flex-center mt-4'>\r\n      <button\r\n        className={`btn p-2 border-2 border-secondary ${\r\n          +page < 2 && 'bg-transparent text-secondary cursor-not-allowed'\r\n        }`}\r\n        onClick={() => {\r\n          if (+page > 1) {\r\n            history.push({\r\n              search: addQuery('page', page - 1),\r\n            })\r\n          }\r\n        }}\r\n      >\r\n        Previous page\r\n      </button>\r\n      <span className='mx-3 bg-primary-light border-2 border-secondary rounded-full w-11 h-11 flex-center'>\r\n        {page}\r\n      </span>\r\n      <button\r\n        className={`btn p-2 border-2 border-secondary ${\r\n          +page === totalPages &&\r\n          'bg-transparent text-secondary cursor-not-allowed'\r\n        }`}\r\n        onClick={() => {\r\n          if (0 < +page < totalPages) {\r\n            history.push({\r\n              search: addQuery('page', page + 1),\r\n            })\r\n          }\r\n        }}\r\n      >\r\n        Next page\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n","import { imgtypes } from '../../api/config'\r\n\r\nexport const Card = ({ id, image, title, subtitle, history }) => {\r\n  return (\r\n    <div className='card' onClick={() => history.push(`/movie/${id}`)}>\r\n      <div className='onHoverExploreBtn transition'>\r\n        <i className='icons ion-ios-arrow-forward text-4xl'></i>\r\n      </div>\r\n      <img\r\n        className='h-full w-2/12 md:w-full object-cover object-top'\r\n        src={`${imgtypes.md}${image}`}\r\n        alt={title}\r\n      />\r\n      <div className='card__description'>\r\n        <span className='text-lg font-medium'>{title}</span>\r\n        <span className='font-light text-xs'>{subtitle}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { Card } from './Card'\r\n\r\nexport const CardsCommon = ({ movieList, history }) => {\r\n  return (\r\n    <section className='flex-center'>\r\n      <div className='grid w-full mt-4 md:grid-cols-4 grid-rows-4  2xl:grid-cols-5 lg:grid-cols-4 gap-2 md:gap-4'>\r\n        {movieList?.results?.map((movie) => (\r\n          <Card\r\n            key={movie.id}\r\n            {...{\r\n              id: movie.id,\r\n              image: movie.poster_path,\r\n              subtitle: `${movie.vote_average} â­`,\r\n              title: movie.title,\r\n              history,\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n","import { CardsCommon } from './CardsCommon'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nexport const Cards = ({ movieList }) => {\r\n  const history = useHistory()\r\n  return <CardsCommon {...{ history, movieList }} />\r\n}\r\n","import { Categories } from './components/Categories'\r\nimport { Search } from '../../components/Search'\r\nimport { Pagination } from '../../components/Pagination'\r\nimport { Cards } from '../../components/Cards'\r\nimport { PageLoader } from '../../components/PageLoader'\r\n\r\nexport const HomeCommon = ({ movieList }) => {\r\n  return (\r\n    <main className='flex-center w-full my-container'>\r\n      <div>\r\n        <div className='flex flex-col md:justify-between md:flex-row'>\r\n          <h1 className='font-bold text-4xl cursor-default'>Dashboard</h1>\r\n          <Search />\r\n        </div>\r\n\r\n        <Categories isLoading={!movieList} />\r\n\r\n        {movieList ? (\r\n          <>\r\n            <Cards movieList={movieList} />\r\n\r\n            <Pagination\r\n              {...{ page: movieList?.page, totalPages: movieList?.total_pages }}\r\n            />\r\n          </>\r\n        ) : (\r\n          <PageLoader />\r\n        )}\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n","import { useLocation } from 'react-router-dom'\r\n\r\nexport const useQuery = () => {\r\n  return new URLSearchParams(useLocation().search)\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useEffect } from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { movie } from '../../stores/movie.state'\r\nimport { HomeCommon } from './HomeCommon'\r\nimport { useQuery } from '../../hooks/useQuery'\r\n\r\nexport const Home = observer(() => {\r\n  const query = useQuery()\r\n\r\n  useEffect(() => {\r\n    movie.getPopularMovies(query.get('page') || 1)\r\n  }, [query.get('page'), query.get('genre')])\r\n\r\n  return (\r\n    <HomeCommon\r\n      {...{\r\n        movieList: movie.movieList,\r\n      }}\r\n    />\r\n  )\r\n})\r\n","import { Search } from '../../components/Search'\r\nimport { Cards } from '../../components/Cards'\r\nimport { PageLoader } from '../../components/PageLoader'\r\nimport { Pagination } from '../../components/Pagination'\r\n\r\nexport const DiscoverCommon = ({ movieList }) => {\r\n  return (\r\n    <div className='container'>\r\n      <div className='flex justify-center'>\r\n        <Search />\r\n      </div>\r\n      {!movieList ? (\r\n        <PageLoader />\r\n      ) : movieList?.results.length ? (\r\n        <>\r\n          <Cards movieList={movieList} />\r\n          <Pagination\r\n            {...{ page: movieList?.page, totalPages: movieList?.total_pages }}\r\n          />\r\n        </>\r\n      ) : (\r\n        <h1 className='text-2xl text-gray-400 h-80-screen flex-center'>\r\n          Couldn't found any movie ;(\r\n        </h1>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { DiscoverCommon } from './DiscoverCommon'\r\nimport { useQuery } from '../../hooks/useQuery'\r\nimport { useEffect } from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { movie } from '../../stores/movie.state'\r\n\r\nexport const Discover = observer(() => {\r\n  const query = useQuery()\r\n\r\n  useEffect(() => {\r\n    const searchQuery = query.get('query')\r\n\r\n    if (searchQuery) {\r\n      movie.getMovie(searchQuery, query.get('page') || 1)\r\n    }\r\n  }, [query.get('query'), query.get('page')])\r\n  return <DiscoverCommon movieList={movie.movieList} />\r\n})\r\n","import React from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const AuthCommon = ({ type, onSubmit, handleDemo = '' }) => {\r\n  const schema = yup.object().shape({\r\n    username: yup.string().required('Email is required.'),\r\n    password: yup\r\n      .string()\r\n      .max(50, 'Too long username.')\r\n      .required('Password is required.')\r\n      .min(6, 'Password should be at least 6 characters long.'),\r\n    email:\r\n      type === 'sign up' &&\r\n      yup.string().required('Email is required.').email('should be an email.'),\r\n  })\r\n\r\n  const { register, handleSubmit, errors, setError } = useForm({\r\n    resolver: yupResolver(schema),\r\n  })\r\n  return (\r\n    <div className='h-screen w-full flex-center flex-col'>\r\n      {type === 'login' && (\r\n        <button\r\n          className='btn p-2 text-xl w-24'\r\n          onClick={handleDemo}\r\n          type='button'\r\n        >\r\n          DEMO\r\n        </button>\r\n      )}\r\n\r\n      <form\r\n        onSubmit={handleSubmit(onSubmit.bind(null, { type, setError }))}\r\n        autoComplete='off'\r\n      >\r\n        <div className='flex-center flex-col'>\r\n          <div\r\n            className={`bg-red-200 w-96 border-red-600 text-red-600 border-l-4 p-2 mb-2 ${\r\n              Object.keys(errors).length ? 'visible' : 'invisible'\r\n            }`}\r\n            role='alert'\r\n          >\r\n            <p>{errors.username?.message}</p>\r\n            <p>{errors.email?.message}</p>\r\n            <p>{errors.password?.message}</p>\r\n          </div>\r\n\r\n          <div className='flex relative w-full mb-4'>\r\n            <span className='rounded-l-md inline-flex  items-center px-3 border-t bg-white border-l border-b  border-gray-300 text-gray-500 shadow-sm text-sm'>\r\n              <i className='icon ion-ios-person'></i>\r\n            </span>\r\n            <input\r\n              ref={register}\r\n              type='text'\r\n              className=' rounded-r-lg flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent'\r\n              name='username'\r\n              placeholder='Username'\r\n            />\r\n          </div>\r\n\r\n          {type === 'sign up' && (\r\n            <div className='flex relative w-full mb-4'>\r\n              <span className='rounded-l-md inline-flex  items-center px-3 border-t bg-white border-l border-b  border-gray-300 text-gray-500 shadow-sm text-sm'>\r\n                <i className='icon ion-ios-mail'></i>\r\n              </span>\r\n              <input\r\n                ref={register}\r\n                type='text'\r\n                className=' rounded-r-lg flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent'\r\n                name='email'\r\n                placeholder='Email'\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <div className='flex relative w-full mb-2'>\r\n            <span className='rounded-l-md inline-flex  items-center px-3 border-t bg-white border-l border-b  border-gray-300 text-gray-500 shadow-sm text-sm'>\r\n              <i className='icon ion-ios-key'></i>\r\n            </span>\r\n            <input\r\n              ref={register({ minLength: 6, required: true })}\r\n              type='text'\r\n              id='email-with-icon'\r\n              className=' rounded-r-lg flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent'\r\n              name='password'\r\n              placeholder='Password'\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              disabled={Object.keys(errors).length > 0}\r\n              className='btn p-2 text-xl w-24 capitalize disabled:opacity-50'\r\n              type='submit'\r\n            >\r\n              {type}\r\n            </button>\r\n            {type === 'sign up' && (\r\n              <Link to='/auth/login' className='underline w-24 ml-4'>\r\n                Demo account\r\n              </Link>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import { request } from '../makeRequest'\r\n\r\nconst register = (data) => {\r\n  return request({\r\n    url: '/auth/register',\r\n    method: 'POST',\r\n    body: data,\r\n  })\r\n}\r\n\r\nconst login = (data) => {\r\n  return request({\r\n    url: '/auth/login',\r\n    method: 'POST',\r\n    body: data,\r\n  })\r\n}\r\n\r\nconst me = () => {\r\n  return request({\r\n    url: '/auth/me',\r\n  })\r\n}\r\n\r\nconst logout = () => {\r\n  return request({\r\n    url: '/auth/logout',\r\n  })\r\n}\r\n\r\nexport const authAPI = {\r\n  register,\r\n  login,\r\n  logout,\r\n  me,\r\n}\r\n","import { makeAutoObservable, runInAction } from 'mobx'\r\nimport { authAPI } from '../api/rest/auth.api'\r\n\r\nclass Auth {\r\n  constructor() {\r\n    makeAutoObservable(this)\r\n  }\r\n\r\n  user = {\r\n    authenticated: false,\r\n    username: null,\r\n    email: null,\r\n  }\r\n\r\n  register = async (data) => {\r\n    let errors\r\n    try {\r\n      await authAPI.register(data)\r\n    } catch (err) {\r\n      errors = err.response.data.errors\r\n      return err.response.data\r\n    }\r\n\r\n    return errors\r\n  }\r\n\r\n  login = async (data) => {\r\n    let errors\r\n    try {\r\n      const res = await authAPI.login(data)\r\n      if (res.data.success) {\r\n        runInAction(() => {\r\n          this.user = res.data.user\r\n          this.user.authenticated = true\r\n        })\r\n      }\r\n    } catch (err) {\r\n      errors = err.response.data\r\n      return err.response.data\r\n    }\r\n    return errors\r\n  }\r\n\r\n  me = async () => {\r\n    try {\r\n      const { data } = await authAPI.me()\r\n      if (this.user.authenticated) return\r\n      if (data.success) {\r\n        runInAction(() => {\r\n          this.user = data.user\r\n          this.user.authenticated = true\r\n        })\r\n      }\r\n    } catch (e) {\r\n      return\r\n    }\r\n  }\r\n\r\n  logout = async () => {\r\n    try {\r\n      if (this.user.authenticated) {\r\n        await authAPI.logout()\r\n      }\r\n    } catch (e) {\r\n      console.error(e)\r\n    }\r\n  }\r\n}\r\n\r\nexport const auth = new Auth()\r\n","import {\r\n  Switch,\r\n  Route,\r\n  useRouteMatch,\r\n  Redirect,\r\n  useHistory,\r\n} from 'react-router-dom'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { AuthCommon } from './AuthCommon'\r\nimport { auth } from '../../stores/auth.state'\r\n\r\nexport const Auth = observer(() => {\r\n  if (auth.user.authenticated) {\r\n    return <Redirect to='/' />\r\n  }\r\n  const { path } = useRouteMatch()\r\n  const history = useHistory()\r\n\r\n  const handleDemo = async () => {\r\n    const errors = await auth.login({ username: 'demo', password: '123456' })\r\n    if (!errors) {\r\n      history.push('/')\r\n    }\r\n  }\r\n\r\n  const onSubmit = async ({ type, setError }, data) => {\r\n    if (type === 'login') {\r\n      const errors = await auth.login(data)\r\n      if (errors && Object.keys(errors)) {\r\n        debugger\r\n        Object.keys(errors).forEach((key) => {\r\n          setError(key, {\r\n            type: 'manual',\r\n            message: errors[key].join(', '),\r\n          })\r\n        })\r\n\r\n        return\r\n      }\r\n      history.push('/')\r\n    }\r\n\r\n    if (type === 'sign up') {\r\n      const errors = await auth.register(data)\r\n      if (errors && Object.keys(errors)) {\r\n        Object.keys(errors).forEach((key) => {\r\n          setError(key, {\r\n            type: 'manual',\r\n            message: errors[key].join(', '),\r\n          })\r\n        })\r\n\r\n        return\r\n      }\r\n      history.push(`${path}/login`)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Switch>\r\n      <Route\r\n        path={`${path}/login`}\r\n        component={AuthCommon.bind(null, {\r\n          type: 'login',\r\n          onSubmit,\r\n          handleDemo,\r\n        })}\r\n        exact\r\n      />\r\n      <Route\r\n        path={`${path}/signup`}\r\n        component={AuthCommon.bind(null, {\r\n          type: 'sign up',\r\n          onSubmit,\r\n        })}\r\n        exact\r\n      />\r\n      <Redirect to='/' />\r\n    </Switch>\r\n  )\r\n})\r\n","import { request } from '../makeRequest'\r\n\r\nconst getPost = (identifier, slug) => {\r\n  return request({ url: `/posts/${identifier}/${slug}` })\r\n}\r\n\r\nconst getPostComments = (identifier, slug) => {\r\n  return request({ url: `/posts/${identifier}/${slug}/comments` })\r\n}\r\n\r\nconst getPosts = () => {\r\n  return request({ url: '/posts', method: 'GET' })\r\n}\r\n\r\nconst createPost = ({ title, body }) => {\r\n  return request({\r\n    url: '/posts',\r\n    method: 'POST',\r\n    body: { title, body },\r\n  })\r\n}\r\n\r\nconst uploadPostImg = ({ formData, postId, slug }) => {\r\n  return request({\r\n    url: `/posts/upload_image/${postId}/${slug}`,\r\n    method: 'POST',\r\n    body: formData,\r\n  })\r\n}\r\n\r\nconst vote = ({ identifier, slug, value }) => {\r\n  return request({\r\n    url: '/misc/vote',\r\n    method: 'POST',\r\n    body: { identifier, slug, value },\r\n  })\r\n}\r\n\r\nconst commentPost = ({ identifier, slug, body }) => {\r\n  return request({\r\n    url: `/posts/${identifier}/${slug}/comments`,\r\n    method: 'POST',\r\n    body: { body },\r\n  })\r\n}\r\n\r\nconst deleteComment = ({ postId, slug, commentId }) => {\r\n  return request({\r\n    url: `/posts/${postId}/${slug}/${commentId}`,\r\n    method: 'DELETE',\r\n  })\r\n}\r\n\r\nexport const postsAPI = {\r\n  getPosts,\r\n  getPost,\r\n  getPostComments,\r\n  vote,\r\n  createPost,\r\n  commentPost,\r\n  deleteComment,\r\n  uploadPostImg,\r\n}\r\n","import { makeAutoObservable, runInAction } from 'mobx'\r\nimport { postsAPI } from '../api/rest/posts.api'\r\n\r\nclass Posts {\r\n  constructor() {\r\n    makeAutoObservable(this)\r\n  }\r\n\r\n  posts = []\r\n  singlePost = null\r\n\r\n  setPosts = (posts) => {\r\n    this.posts = posts\r\n  }\r\n\r\n  fetchPost = async (identifier, slug) => {\r\n    this.singlePost = null\r\n    try {\r\n      const { data: post } = await postsAPI.getPost(identifier, slug)\r\n      const { data: postComments } = await postsAPI.getPostComments(\r\n        identifier,\r\n        slug\r\n      )\r\n\r\n      runInAction(() => {\r\n        this.singlePost = { ...post, comments: postComments }\r\n      })\r\n    } catch (e) {\r\n      console.error(e)\r\n    }\r\n  }\r\n\r\n  fetchPosts = async () => {\r\n    this.posts = []\r\n    try {\r\n      const res = await postsAPI.getPosts()\r\n      runInAction(() => {\r\n        this.posts = res.data\r\n      })\r\n    } catch (e) {\r\n      console.error(e)\r\n    }\r\n  }\r\n\r\n  createPost = async (props) => {\r\n    try {\r\n      const file = props.file\r\n      const { status, data } = await postsAPI.createPost(props)\r\n      if (status === 200 && file) {\r\n        // If passed looks like: ['filename', File]\r\n        await this.uploadPostImg({\r\n          formData: file,\r\n          postId: data.identifier,\r\n          slug: data.slug,\r\n        })\r\n      }\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  uploadPostImg = async ({ formData, postId, slug }) => {\r\n    await postsAPI.uploadPostImg({ formData, postId, slug })\r\n  }\r\n\r\n  vote = async ({ identifier, slug, value }) => {\r\n    try {\r\n      const res = await postsAPI.vote({ identifier, slug, value })\r\n\r\n      if (this.singlePost) {\r\n        runInAction(() => {\r\n          this.singlePost = {\r\n            ...this.singlePost,\r\n            voteScore: res.data.voteScore,\r\n            userVote: res.data.userVote,\r\n          }\r\n        })\r\n      }\r\n\r\n      this.posts.forEach((p) => {\r\n        if (p.identifier === res.data.identifier && p.slug === res.data.slug) {\r\n          runInAction(() => {\r\n            p.voteScore = res.data.voteScore\r\n            p.userVote = res.data.userVote\r\n          })\r\n        }\r\n      })\r\n    } catch (e) {\r\n      console.error(e)\r\n    }\r\n  }\r\n\r\n  commentPost = async ({ identifier, slug, body }) => {\r\n    if (!body?.length) return\r\n    try {\r\n      const { status, data } = await postsAPI.commentPost({\r\n        identifier,\r\n        slug,\r\n        body,\r\n      })\r\n      if (status === 200) {\r\n        runInAction(() => {\r\n          this.singlePost.comments = [data, ...this.singlePost.comments]\r\n        })\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  deleteComment = async ({ commentId }) => {\r\n    try {\r\n      if (!this.singlePost) return\r\n\r\n      const { data } = await postsAPI.deleteComment({\r\n        postId: this.singlePost.identifier,\r\n        slug: this.singlePost.slug,\r\n        commentId,\r\n      })\r\n      if (data?.success) {\r\n        runInAction(() => {\r\n          this.singlePost.comments = this.singlePost.comments.filter(\r\n            (c) => c.identifier !== commentId\r\n          )\r\n        })\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n}\r\n\r\nexport const posts = new Posts()\r\n","import { Link } from 'react-router-dom'\r\nimport dayjs from 'dayjs'\r\nimport relativeTime from 'dayjs/plugin/relativeTime'\r\n\r\ndayjs.extend(relativeTime)\r\n\r\nexport const BlogMeta = ({\r\n  author_name,\r\n  author_avatar,\r\n  commentCount,\r\n  voteScore,\r\n  createdAt,\r\n  identifier,\r\n  slug,\r\n  userVote,\r\n  vote,\r\n}) => {\r\n  return (\r\n    <div className='flex items-center justify-between mt-4'>\r\n      <Link to={`/user/${author_name}`} className='hidden lg:flex'>\r\n        <img\r\n          alt={author_name}\r\n          src={author_avatar}\r\n          className='object-cover rounded-full h-8 w-8 '\r\n        />\r\n        <div className='flex-col justify-between ml-4 text-xs'>\r\n          <p className='text-gray-300 dark:text-white hover:underline hover:font-medium'>\r\n            {author_name}\r\n          </p>\r\n          <p className='text-gray-400 dark:text-gray-300'>\r\n            {dayjs(createdAt).fromNow()}\r\n          </p>\r\n        </div>\r\n      </Link>\r\n\r\n      <Link\r\n        to={`/feed/${identifier}/${slug}#comments`}\r\n        className='flex items-center transition hover:bg-secondary w-40 h-full px-2 cursor-pointer'\r\n      >\r\n        <i className='icon ion-ios-text text-gray-300 text-2xl mr-2'></i>\r\n        <p>\r\n          {commentCount} {commentCount > 1 ? 'Comments' : 'Comment'}\r\n        </p>\r\n      </Link>\r\n\r\n      <div className='flex'>\r\n        <div className='mr-6 h-full'>\r\n          <i\r\n            onClick={() =>\r\n              vote({ identifier, slug, value: userVote === 1 ? 0 : 1 })\r\n            }\r\n            className={`icon ion-ios-arrow-up transition text-gray-400 text-2xl cursor-pointer mr-2 hover:bg-gray-300 ${\r\n              userVote !== 1 && 'hover:text-blue-500'\r\n            } px-2 ${userVote === 1 && 'text-red-500 bg-gray-300'}`}\r\n          ></i>\r\n          <i\r\n            onClick={() =>\r\n              vote({ identifier, slug, value: userVote === -1 ? 0 : -1 })\r\n            }\r\n            className={`icon ion-ios-arrow-down transition text-gray-400 text-2xl cursor-pointer hover:bg-gray-300 ${\r\n              userVote !== -1 && 'hover:text-red-500'\r\n            } px-2 ${userVote === -1 && 'text-blue-500 bg-gray-300'}`}\r\n          ></i>\r\n        </div>\r\n\r\n        <p\r\n          className={`${\r\n            voteScore > 0\r\n              ? 'text-green-600'\r\n              : voteScore < 0\r\n              ? 'text-red-600'\r\n              : 'text-yellow-500'\r\n          } w-8 text-2xl font-semibold cursor-default`}\r\n        >\r\n          {voteScore}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { Link } from 'react-router-dom'\r\n\r\nexport const Body = ({ identifier, slug, title, description }) => {\r\n  return (\r\n    <>\r\n      <Link to={`/feed/${identifier}/${slug}`}>\r\n        <p className='dark:text-white text-xl font-medium mb-2'>{title}</p>\r\n      </Link>\r\n      <p className='text-gray-400 dark:text-gray-300 font-light'>\r\n        {description}\r\n      </p>\r\n    </>\r\n  )\r\n}\r\n","// import { Link } from 'react-router-dom'\r\nimport { Link } from 'react-router-dom'\r\nimport { BlogMeta } from './BlogMeta'\r\nimport { Body } from './Body'\r\n\r\nexport const Blog = ({\r\n  title,\r\n  description,\r\n  author_name,\r\n  author_avatar,\r\n  identifier,\r\n  slug,\r\n  commentCount,\r\n  voteScore,\r\n  createdAt,\r\n  userVote,\r\n  postImg,\r\n  vote,\r\n}) => {\r\n  return (\r\n    <div className='overflow-hidden shadow-lg lg:rounded-lg h-auto lg:w-10/12'>\r\n      <div className='w-full h-full'>\r\n        {postImg && (\r\n          <Link to={`/feed/${identifier}/${slug}`}>\r\n            <img\r\n              alt='blog'\r\n              src={postImg}\r\n              className='h-56 w-full object-cover'\r\n            />\r\n          </Link>\r\n        )}\r\n        <div className='bg-primary-light dark:bg-gray-800 w-full px-4 pt-4 pb-2'>\r\n          <Body {...{ description, title, slug, identifier }} />\r\n          <BlogMeta\r\n            {...{\r\n              author_name,\r\n              author_avatar,\r\n              commentCount,\r\n              voteScore,\r\n              vote,\r\n              createdAt,\r\n              identifier,\r\n              slug,\r\n              userVote,\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { Blog } from './Blog'\r\n\r\nexport const Blogs = ({ showBody = false, vote, posts }) => {\r\n  return (\r\n    <>\r\n      {posts.map((p) => (\r\n        <Blog\r\n          key={p.uuid}\r\n          {...{\r\n            author_name: p.user.username,\r\n            author_avatar: p.user.imageUrl,\r\n            commentCount: p.commentCount,\r\n            createdAt: p.createdAt,\r\n            description: showBody ? p.body : '',\r\n            title: p.title,\r\n            identifier: p.identifier,\r\n            slug: p.slug,\r\n            userVote: p?.userVote,\r\n            voteScore: p.voteScore,\r\n            postImg: p.postImg,\r\n            vote,\r\n          }}\r\n        />\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n","import { observer } from 'mobx-react-lite'\r\nimport { posts } from '../../stores/posts.state'\r\nimport { PageLoader } from '../../components/PageLoader'\r\nimport { useEffect } from 'react'\r\nimport { Blogs } from '../../components/Blogs'\r\n\r\nexport const Feed = observer(() => {\r\n  useEffect(() => {\r\n    posts.fetchPosts()\r\n  }, [])\r\n\r\n  return (\r\n    <div className='my-container flex-center flex-col gap-4'>\r\n      {posts.posts.length ? (\r\n        <Blogs posts={posts.posts} vote={posts.vote} />\r\n      ) : (\r\n        <PageLoader />\r\n      )}\r\n    </div>\r\n  )\r\n})\r\n","export default __webpack_public_path__ + \"static/media/404.100df03c.jpg\";","import errorImg from './404.jpg'\r\n\r\nexport const Error = ({ message = \"You're alone here\" }) => {\r\n  return (\r\n    <div className='bg-primary relative overflow-hidden w-full h-screen'>\r\n      <img\r\n        src={errorImg}\r\n        className='absolute h-full w-full object-cover'\r\n        alt='error404'\r\n      />\r\n      <div className='inset-0 bg-black opacity-25 absolute'></div>\r\n      <div className='container mx-auto px-6 md:px-12 relative z-10 flex items-center py-32 xl:py-40'>\r\n        <div className='w-full font-mono flex flex-col items-center relative z-10'>\r\n          <h1 className='font-extrabold text-5xl text-center text-white leading-tight mt-4'>\r\n            {message}\r\n          </h1>\r\n          <p className='font-extrabold text-8xl my-44 text-white animate-bounce'>\r\n            404\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { request } from '../makeRequest'\r\n\r\nconst getUser = (username) => {\r\n  return request({ url: `/user/${username}` })\r\n}\r\n\r\nconst uploadProfileImage = (username, formData) => {\r\n  return request({\r\n    url: `/user/${username}/image`,\r\n    method: 'POST',\r\n    body: formData,\r\n    headers: { 'Content-Type': 'multipart/form-data' },\r\n  })\r\n}\r\n\r\nexport const userAPI = { getUser, uploadProfileImage }\r\n","import { makeAutoObservable, runInAction } from 'mobx'\r\nimport { userAPI } from '../api/rest/user.api'\r\nimport { posts } from './posts.state'\r\n\r\nclass User {\r\n  constructor() {\r\n    makeAutoObservable(this)\r\n  }\r\n\r\n  isLoading = true\r\n  setIsloading = (bool) => (this.isLoading = bool)\r\n\r\n  userInfo = null\r\n\r\n  fetchUser = async (username) => {\r\n    this.userInfo = null\r\n    try {\r\n      const { data } = await userAPI.getUser(username)\r\n      posts.setPosts(data.posts)\r\n      runInAction(() => {\r\n        this.userInfo = { ...data, posts: undefined }\r\n      })\r\n      return\r\n    } catch (err) {\r\n      console.log(err)\r\n      return { error: err.response.data.error }\r\n    }\r\n  }\r\n\r\n  uploadProfileImage = async (formData) => {\r\n    try {\r\n      const { data } = await userAPI.uploadProfileImage(\r\n        this.userInfo.username,\r\n        formData\r\n      )\r\n      this.userInfo.imageUrl = data.imageUrl\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n}\r\n\r\nexport const user = new User()\r\n","import { useEffect, useRef, useState } from 'react'\r\nimport { useParams } from 'react-router'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { PageLoader } from '../../components/PageLoader'\r\nimport { Blogs } from '../../components/Blogs'\r\nimport { Error } from '../Error'\r\nimport { user } from '../../stores/user.state'\r\nimport { posts } from '../../stores/posts.state'\r\nimport { auth } from '../../stores/auth.state'\r\n\r\nexport const User = observer(() => {\r\n  const { name } = useParams()\r\n\r\n  const [error, setError] = useState(null)\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      if (name) {\r\n        const res = await user.fetchUser(name)\r\n        if (res?.error) {\r\n          setError(res.error)\r\n        }\r\n      }\r\n    })()\r\n  }, [name])\r\n\r\n  const [isOwner, setIsOwner] = useState(false)\r\n  useEffect(() => {\r\n    if (auth.user.authenticated) {\r\n      setIsOwner(auth.user.username === user.userInfo?.username)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user.userInfo?.username])\r\n\r\n  const fileInputRef = useRef(null)\r\n  const uploadImage = async (e) => {\r\n    const file = e.target.files[0]\r\n\r\n    const formData = new FormData()\r\n    formData.append('file', file)\r\n\r\n    await user.uploadProfileImage(formData)\r\n  }\r\n  const openFileInput = () => {\r\n    if (!isOwner) return\r\n    fileInputRef.current.click()\r\n  }\r\n\r\n  if (error) {\r\n    return <Error message={error} />\r\n  }\r\n\r\n  return user?.userInfo ? (\r\n    <>\r\n      <div className='flex-center flex-col mb-4'>\r\n        <div className='rounded-full h-52 w-52 relative overflow-hidden'>\r\n          {isOwner && (\r\n            <div className='flex-center flex-col absolute inset-0 h-full opacity-0 hover:opacity-50 transition-opacity bg-black'>\r\n              <span>Change photo</span>\r\n              <button\r\n                className='btn w-32 h-12 opacity-100'\r\n                onClick={openFileInput}\r\n              >\r\n                <i className='icon ion-ios-document'></i>\r\n              </button>\r\n              <input\r\n                className='invisible'\r\n                type='file'\r\n                ref={fileInputRef}\r\n                onChange={uploadImage}\r\n              />\r\n            </div>\r\n          )}\r\n          <img\r\n            src={user.userInfo?.imageUrl}\r\n            alt={user.userInfo?.username}\r\n            className='h-full w-full object-cover'\r\n          />\r\n        </div>\r\n        <h3 className='text-2xl uppercase font-bold'>\r\n          {user.userInfo?.username}\r\n        </h3>\r\n      </div>\r\n\r\n      <div className='flex-center flex-col gap-4 mb-4'>\r\n        {posts.posts.length ? (\r\n          <Blogs vote={posts.vote} posts={posts.posts} />\r\n        ) : (\r\n          <div>\r\n            <span className='text-gray-500'>No posts yet.</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  ) : (\r\n    <PageLoader />\r\n  )\r\n})\r\n","import { auth } from '../stores/auth.state'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { Dialog } from '../components/Dialog'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const Private = observer(({ children, strict = false }) => {\r\n  if (!auth.user.authenticated && strict) {\r\n    return (\r\n      <Dialog\r\n        open={true}\r\n        centered={true}\r\n        className='bg-primary-light p-2 rounded'\r\n      >\r\n        <h1>You should be logged in to make this action.</h1>\r\n        <Link to='/auth/login' className='text-blue-500 underline'>\r\n          Log in.\r\n        </Link>\r\n      </Dialog>\r\n    )\r\n  }\r\n\r\n  if (auth.user.authenticated) return children\r\n  return null\r\n})\r\n","import { Link } from 'react-router-dom'\r\n\r\nexport const Comments = ({ comments, currentUser, deleteComment }) => {\r\n  return (\r\n    <div id='comments'>\r\n      {comments.map((c) => (\r\n        <div\r\n          key={c.uuid}\r\n          className='overflow-hidden shadow-lg rounded-lg h-auto mb-3'\r\n        >\r\n          <div className='w-full h-full'>\r\n            <div className='bg-primary-light p-3'>\r\n              <div className='flex justify-between'>\r\n                <Link to={`/user/${c.username}`}>\r\n                  <p className='flex gap-2 text-gray-400 dark:text-gray-300 font-medium mb-2'>\r\n                    <img\r\n                      src={c.imageUrl}\r\n                      className='h-8 w-8 object-cover rounded-full'\r\n                      alt={c.username}\r\n                    />\r\n                    {c.username}\r\n                  </p>\r\n                </Link>\r\n                {c.username === currentUser?.username && (\r\n                  <i\r\n                    className='icon ion-md-trash text-xl cursor-pointer hover:text-red-500'\r\n                    onClick={() => deleteComment({ commentId: c.identifier })}\r\n                  ></i>\r\n                )}\r\n              </div>\r\n              <p className='font-light text-sm'>{c.body}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\n\r\nexport const InputComment = ({ identifier, slug, handleCommentPost }) => {\r\n  const [value, setValue] = useState('')\r\n  return (\r\n    <div\r\n      className='w-full grid grid-cols-2 mb-8'\r\n      style={{ gridTemplateColumns: '90% 10%' }}\r\n    >\r\n      <textarea\r\n        placeholder='Comment...'\r\n        className='rounded bg-secondary outline-none p-2 max-h-64'\r\n        onChange={(e) => setValue(e.target.value)}\r\n        value={value}\r\n      ></textarea>\r\n      <button\r\n        onClick={() => {\r\n          handleCommentPost({ identifier, slug, body: value })\r\n          setValue('')\r\n        }}\r\n        className='disabled:opacity-50 flex-center outline-none focus:outline-none'\r\n        disabled={value.length < 1}\r\n      >\r\n        <i\r\n          className='icon ion-md-send text-2xl bg-secondary p-3 rounded cursor-pointer hover:bg-primary-light transition'\r\n          title='send'\r\n        ></i>\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n","import { useParams } from 'react-router'\r\nimport { posts } from '../../stores/posts.state'\r\nimport { auth } from '../../stores/auth.state'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { useEffect } from 'react'\r\nimport { Private } from '../../hoc/Private'\r\nimport { PageLoader } from '../../components/PageLoader'\r\nimport { Blogs } from '../../components/Blogs'\r\nimport { Comments } from './components/Comments'\r\nimport { InputComment } from './components/InputComment'\r\n\r\nexport const Post = observer(() => {\r\n  const { identifier, slug } = useParams()\r\n\r\n  useEffect(() => {\r\n    if (identifier && slug) {\r\n      posts.fetchPost(identifier, slug)\r\n    }\r\n  }, [identifier, slug])\r\n\r\n  return (\r\n    <>\r\n      {!posts.singlePost ? (\r\n        <PageLoader />\r\n      ) : (\r\n        <div className='flex-center flex-col gap-4 my-container'>\r\n          {/* Actually, only one post will be there. Just was too lazy to make other component for that. KISS ;) */}\r\n          <Blogs posts={[posts.singlePost]} vote={posts.vote} showBody />\r\n          <div className='w-full lg:w-3/5'>\r\n            <Private>\r\n              <InputComment\r\n                {...{ identifier, slug, handleCommentPost: posts.commentPost }}\r\n              />\r\n            </Private>\r\n            <Comments\r\n              {...{\r\n                comments: posts.singlePost?.comments || [],\r\n                currentUser: auth.user,\r\n                deleteComment: posts.deleteComment,\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n})\r\n","import { posts } from '../../stores/posts.state'\r\nimport { useRef, useState } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { Private } from '../../hoc/Private'\r\n\r\nexport const CreatePost = () => {\r\n  const [file, setFile] = useState(null)\r\n  const [filename, setFilename] = useState(null)\r\n  const [title, setTitle] = useState('')\r\n  const [body, setBody] = useState('')\r\n\r\n  const history = useHistory()\r\n\r\n  const fileInputRef = useRef(null)\r\n  const openFileInput = () => fileInputRef.current.click()\r\n  const handlePreviewImg = async (e) => {\r\n    const file = e.target.files[0]\r\n\r\n    const formData = new FormData()\r\n    formData.append('post_img', file)\r\n\r\n    setFilename(e.target.files[0].name)\r\n    setFile(formData)\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    if (!body.trim().length) return\r\n    await posts.createPost({ title, body, file })\r\n    history.replace('/feed')\r\n  }\r\n\r\n  return (\r\n    <Private>\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className='my-container flex-center flex-col'\r\n      >\r\n        <h1 className='text-center text-2xl'>Create your awesome post!</h1>\r\n        <input\r\n          placeholder='title'\r\n          type='text'\r\n          className='mt-4 p-2 outline-none bg-secondary w-9/12'\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <textarea\r\n          className='bg-secondary p-2 w-9/12 mt-2 outline-none'\r\n          placeholder='Hmmm...'\r\n          cols='30'\r\n          rows='10'\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        ></textarea>\r\n        <input\r\n          type='file'\r\n          className='hidden'\r\n          ref={fileInputRef}\r\n          onChange={handlePreviewImg}\r\n        />\r\n        <span className='text-sm mt-2 flex'>\r\n          preview image&#8197;\r\n          <p className='text-gray-500'>{filename ? filename : '(optional)'}</p>\r\n        </span>\r\n        <button\r\n          onClick={openFileInput}\r\n          type='button'\r\n          className='btn bg-secondary hover:bg-primary-light px-3 mt-1'\r\n        >\r\n          {filename ? (\r\n            <i className='icon ion-md-checkmark-circle text-green-500'></i>\r\n          ) : (\r\n            <i className='icon ion-md-image'></i>\r\n          )}\r\n        </button>\r\n\r\n        <button\r\n          className='bg-secondary mt-6 p-2 rounded-3xl text-sm hover:bg-primary-light'\r\n          disabled={body.trim().length < 5}\r\n          type='submit'\r\n        >\r\n          Submit <i className='icon ion-md-send'></i>\r\n        </button>\r\n      </form>\r\n    </Private>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.7bb40f87.svg\";","import logo from '../assets/icons/logo.svg'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { auth } from '../stores/auth.state'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { useState } from 'react'\r\n\r\nconst sidebarItems = [\r\n  { icon: 'browsers', href: '/', title: 'home', id: 1 },\r\n  { icon: 'contacts', href: '/feed', title: 'feed', id: 2 },\r\n]\r\n\r\nexport const Sidebar = observer(() => {\r\n  const { pathname } = useLocation()\r\n\r\n  const [sidebarOpen, setSidebarOpen] = useState(false)\r\n  const toggleSidebar = () => {\r\n    setSidebarOpen(!sidebarOpen)\r\n  }\r\n\r\n  const logout = () => {\r\n    auth.logout().then(() => {\r\n      window.location.reload()\r\n    })\r\n  }\r\n  return (\r\n    <>\r\n      <aside\r\n        className={`${\r\n          !sidebarOpen ? '-translate-x-full md:translate-x-0' : ''\r\n        } transform transition-transform block bg-secondary fixed left-0 top-0 h-full w-20 mr-20 z-50`}\r\n      >\r\n        <div className='flex flex-col items-center justify-between h-full'>\r\n          <div className='flex items-center flex-col'>\r\n            <Link to='/'>\r\n              <img className='w-10 mt-5' src={logo} alt='logo' />\r\n            </Link>\r\n            <ul className='mt-5'>\r\n              {sidebarItems.map((n) => (\r\n                <Link\r\n                  className='outline-none'\r\n                  to={n.href}\r\n                  key={n.id}\r\n                  title={n.title}\r\n                >\r\n                  <li\r\n                    className={`border-solid border-primary ${\r\n                      n.href === pathname && 'bg-primary-light'\r\n                    } ${\r\n                      n.href !== pathname &&\r\n                      'transform hover:scale-105 transition-transform'\r\n                    } border flex-center h-14 w-14 rounded-3xl mt-2 cursor-pointer`}\r\n                  >\r\n                    <i\r\n                      className={`icon ion-ios-${n.icon} text-primary text-4xl`}\r\n                    ></i>\r\n                  </li>\r\n                </Link>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          {auth.user.authenticated ? (\r\n            <div>\r\n              <Link\r\n                to={`/user/${auth.user.username}`}\r\n                className='border-primary border flex-center h-14 w-14 rounded-3xl mb-2 cursor-pointer overflow-hidden'\r\n                title={auth.user.username}\r\n              >\r\n                <img\r\n                  src={auth.user.imageUrl}\r\n                  alt={auth.user.username}\r\n                  className='h-full w-full object-cover'\r\n                />\r\n              </Link>\r\n              <Link\r\n                to='/feed/create_post'\r\n                className='border-green-500 border flex-center h-14 w-14 rounded-3xl mb-2 cursor-pointer'\r\n                title='create post'\r\n              >\r\n                <i className='icon ion-ios-add-circle-outline text-green-500 text-4xl'></i>\r\n              </Link>\r\n              <div\r\n                className='border-red-600 border flex-center h-14 w-14 rounded-3xl mb-2 cursor-pointer'\r\n                title='logout'\r\n                onClick={logout}\r\n              >\r\n                <i className='icon ion-ios-power text-red-600 text-4xl'></i>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <Link\r\n                to='/auth/login'\r\n                className='border-green-600 border text-green-600 font-light flex-center h-14 w-14 rounded-3xl mb-2 cursor-pointer'\r\n                title='log in'\r\n              >\r\n                LOGIN\r\n              </Link>\r\n              <Link\r\n                to='/auth/signup'\r\n                className='border-yellow-300 border text-yellow-300 text-sm font-light flex-center h-14 w-14 rounded-3xl mb-2 cursor-pointer'\r\n                title='sign up'\r\n              >\r\n                SIGN UP\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </aside>\r\n      <div\r\n        className='md:hidden flex-center z-50 rounded fixed bottom-2 right-2 w-10 h-10 bg-secondary border border-white cursor-pointer'\r\n        onClick={toggleSidebar}\r\n      >\r\n        <i className='icon ion-md-menu text-4xl'></i>\r\n      </div>\r\n    </>\r\n  )\r\n})\r\n","import { Switch, Route } from 'react-router-dom'\r\nimport {\r\n  Discover,\r\n  Home,\r\n  MovieAbout,\r\n  Auth,\r\n  Feed,\r\n  Post,\r\n  User,\r\n  CreatePost,\r\n  Error,\r\n} from './pages'\r\nimport { Sidebar } from './components/Sidebar'\r\n\r\nexport const App = () => {\r\n  return (\r\n    <>\r\n      <Sidebar />\r\n\r\n      <main className='main-content'>\r\n        <Switch>\r\n          <Route exact path='/' component={Home} />\r\n          <Route path='/auth' component={Auth} />\r\n          <Route path='/movie/:id' component={MovieAbout} />\r\n          <Route path='/discover' component={Discover} />\r\n          <Route path='/feed/:identifier/:slug' component={Post} />\r\n          <Route path='/feed/create_post' component={CreatePost} />\r\n          <Route path='/feed' component={Feed} />\r\n          <Route path='/user/:name' component={User} />\r\n          <Route path='*' component={Error} />\r\n        </Switch>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n","import { createContext, useEffect } from 'react'\r\nimport { auth } from '../stores/auth.state'\r\n\r\nconst AuthContext = createContext(null)\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      await auth.me()\r\n    }\r\n\r\n    fetch()\r\n  }, [])\r\n\r\n  return (\r\n    <AuthContext.Provider value={auth.user}>{children}</AuthContext.Provider>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { App } from './app'\r\nimport { AuthProvider } from './context/auth.context'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  </Router>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}